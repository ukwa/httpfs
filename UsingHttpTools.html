<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jul 25, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>HttpFS - Hadoop HDFS over HTTP 0.20.2-cdh3u4 - Using HTTP Tools</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
        <meta name="Date-Revision-yyyymmdd" content="20120725" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      </head>
  <body class="composite">
    <div id="banner">
                  <span id="bannerLeft">
                Apache Hadoop HttpFS for cdh3
                </span>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                      <div class="xleft">
        Last Published: 2012-07-25
                      </div>
            <div class="xright">            <a href="http://hadoop.apache.org/" class="externalLink">Apache Hadoop</a>
              
            </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                                                <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
          <img alt="Built by Maven" src="./images/logos/maven-feather.png"/>
        </a>
                       
                  </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!-- Licensed under the Apache License, Version 2.0 (the "License"); --><!-- you may not use this file except in compliance with the License. --><!-- You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, software --><!-- distributed under the License is distributed on an "AS IS" BASIS, --><!-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. --><!-- See the License for the specific language governing permissions and --><!-- limitations under the License. --><div class="section"><h2>Hadoop HDFS over HTTP 0.20.2-cdh3u4 - Using HTTP Tools<a name="Hadoop_HDFS_over_HTTP_0.20.2-cdh3u4_-_Using_HTTP_Tools"></a></h2><p>[ <a href="./index.html">Go Back</a> ]</p><div class="section"><h3>Security<a name="Security"></a></h3><p>Out of the box HttpFS supports both pseudo authentication and Kerberos HTTP SPNEGO authentication.</p><div class="section"><h4>Pseudo Authentication<a name="Pseudo_Authentication"></a></h4><p>With pseudo authentication the user name must be specified in the <tt>user.name=&lt;USERNAME&gt;</tt> query string parameter of a HttpFS URL. For example:</p><div class="source"><pre>$ curl &quot;http://&lt;HTTFS_HOST&gt;:14000/webhdfs/v1?op=homedir&amp;user.name=babu&quot;</pre></div></div><div class="section"><h4>Kerberos HTTP SPNEGO Authentication<a name="Kerberos_HTTP_SPNEGO_Authentication"></a></h4><p>Kerberos HTTP SPNEGO authentication requires a tool or library supporting Kerberos HTTP SPNEGO protocol.</p><p>IMPORTANT: If using <tt>curl</tt>, the <tt>curl</tt> version being used must support GSS (<tt>curl -V</tt> prints out 'GSS' if it supports it).</p><p>For example:</p><div class="source"><pre>$ kinit
Please enter the password for tucu@LOCALHOST:
$ curl --negotiate -u foo &quot;http://&lt;HTTPFS_HOST&gt;:14000/webhdfs/v1?op=homedir&quot;
Enter host password for user 'foo':</pre></div><p>NOTE: the <tt>-u USER</tt> option is required by the <tt>--negotiate</tt> but it is not used. Use any value as <tt>USER</tt> and when asked for the password press [ENTER] as the password value is ignored.</p></div><div class="section"><h4><a name="Remembering_Who_I_Am">Remembering Who I Am</a> (Establishing an Authenticated Session)<a name="Remembering_Who_I_Am_Establishing_an_Authenticated_Session"></a></h4><p>As most authentication mechanisms, Hadoop HTTP authentication authenticates users once and issues a short-lived authentication token to be presented in subsequent requests. This authentication token is a signed HTTP Cookie.</p><p>When using tools like <tt>curl</tt>, the authentication token must be stored on the first request doing authentication, and submitted in subsequent requests. To do this with curl the <tt>-b</tt> and <tt>-c</tt> options to save and send HTTP Cookies must be used.</p><p>For example, the first request doing authentication should save the received HTTP Cookies.</p><p>Using Pseudo Authentication:</p><div class="source"><pre>$ curl -c ~/.httpfsauth &quot;http://&lt;HTTPFS_HOST&gt;:14000/webhdfs/v1?op=homedir&amp;user.name=babu&quot;</pre></div><p>Using Kerberos HTTP SPNEGO authentication:</p><div class="source"><pre>$ curl --negotiate -u foo -c ~/.httpfsauth &quot;http://&lt;HTTPFS_HOST&gt;:14000/webhdfs/v1?op=homedir&quot;</pre></div><p>Then, subsequent requests forward the previously received HTTP Cookie:</p><div class="source"><pre>$ curl -b ~/.httpfsauth &quot;http://&lt;HTTPFS_HOST&gt;:14000/webhdfs/v1?op=liststatus&quot;</pre></div><p>[ <a href="./index.html">Go Back</a> ]</p></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;            2012
              Cloudera
            
             - <a href="http://maven.apache.org/privacy-policy.html">Privacy Policy</a></div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
